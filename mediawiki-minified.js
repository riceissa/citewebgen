javascript:(function(){var g=false;var f={"arstechnica.com":"Ars Technica","bloomberg.com":"Businessweek","bostonglobe.com":"The Boston Globe","econlog.econlib.org":"EconLog","economist.com":"The Economist","en.wikipedia.org":"English Wikipedia","ft.com":"Financial Times","givewell.org":"GiveWell","huffingtonpost.ca":"Huffington Post Canada","huffingtonpost.com":"The Huffington Post","independent.co.uk":"The Independent","indiatimes.com":"The Times of India","intelligence.org":"Machine Intelligence Research Institute","latimes.com":"Los Angeles Times","lesswrong.com":"LessWrong","mirror.co.uk":"Mirror","nybooks.com":"The New York Review of Books","nytimes.com":"The New York Times","plos.org":"PLOS","press.princeton.edu":"Princeton University Press","princeton.edu":"Princeton University","quora.com":"Quora","rationality.org":"Center for Applied Rationality","telegraph.co.uk":"The Telegraph","theatlantic.com":"The Atlantic","theguardian.com":"The Guardian","theregister.co.uk":"The Register","usatoday.com":"USA Today","usnews.com":"U.S. News & World Report","washingtonpost.com":"The Washington Post","who.int":"World Health Organization","wikipedia.org":"Wikipedia","wired.com":"WIRED","wsj.com":"The Wall Street Journal"};function d(o){var m=Date.parse(o);if(m){var n=new Date(m);var l=["January","February","March","April","May","June","July","August","September","October","November","December"];return l[n.getUTCMonth()]+" "+n.getUTCDate()+", "+n.getUTCFullYear()}else{return 0}}function j(m,n){var l=(m-n)/(1000*60*60*24);if(l>2){return false}else{return true}}function c(){var q=document.getElementsByTagName("meta");var x={url:document.URL};for(var p=0;p<q.length;p++){var n=q.item(p).name;if(n){n=n.trim().toLowerCase()}var m=q.item(p).getAttribute("property");if(m){m=m.trim().toLowerCase()}var z=q.item(p).content;if(z){z=z.trim()}if(m=="og:title"||n=="title"){x.title=z}else{if(n=="author"||n=="article:author_name"||n=="dcsext.author"){x.author=z}else{if(n=="byl"){x.author=z.replace(/^[Bb][Yy] /,"")}else{if(m=="og:site_name"||n=="cre"){x.publisher=z}else{if(n=="dat"||n=="dcterms.date"||m=="article:modified_time"||m=="article:published_time"||n=="date"||n=="timestamp"||n=="sailthru.date"||n=="displaydate"||n=="dc.date.issued"){x.date=z}}}}}}if(!("title" in x)){x.title=document.title}var w=new Date();x.accessdate=d(w.toUTCString());if(g){var y=document.getElementsByClassName("author");if(y.length>0&&!("author" in x)){x.author=y[0].textContent.trim()}var l=document.getElementsByClassName("date");if(l.length>0&&!("date" in x)){x.date=l[0].textContent.trim()}}var u=d(x.date);if(u){x.date=u}if(window.getSelection()!=""){x.quote=window.getSelection().toString()}if(location.hostname in f){var o=f[location.hostname]}else{if(location.hostname.split(".").slice(1).join(".") in f){var o=f[location.hostname.split(".").slice(1).join(".")]}}if(o){x.publisher=o}var t=false;if(document.URL.match(/\/\/archive\.is\//)){t=true;x.archiveurl=x.url;if("date" in x){x.archivedate=x.date}x.url=document.querySelectorAll("input")[0].value;delete x.date;delete x.publisher}else{if(document.URL.match(/\/\/web\.archive\.org\/web\//)){t=true;x.archiveurl=x.url;x.url=document.querySelectorAll("input#wmtbURL")[0].value;var r=document.URL.match(/\/\/web\.archive\.org\/web\/\d{8}/)[0].substr(-8);x.archivedate=d(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2))}}if(t){var v=Date.parse(x.archivedate);if(v){var s=new Date(v);if(!j(w,s)){x["dead-url"]="yes"}}if(!("dead-url" in x)){x["dead-url"]="no"}}return x}function e(n){var l="The following metadata were detected:\n\n";for(var m in n){l+=m+" = "+n[m]+"\n"}l+="\nYou can copy this reference:";return l}var a=true;function i(m){for(var l in m){var p=m[l];p=p.replace(/[“”]/g,'"');p=p.replace(/[‘’]/g,"'");p=p.replace(/--/g,"–");p=p.replace(/\n/g," ");p=p.replace(/\|/g,"{{!}}");m[l]=p}var o=m.publisher;if(o&&(location.hostname in f||location.hostname.split(".").slice(1).join(".") in f)){if(a){m.publisher="[["+o+"]]"}else{m.publisher="[[wikipedia:"+o+"|"+o+"]]"}}var n="<ref>{{cite web";for(var l in m){n+=" |"+l+"="+m[l]}n+="}}</ref>";return n}function b(){var l=c();return[e(l),i(l)]}var h=b();var k=prompt(h[0],h[1])})();